<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.salledesport.controller.DashboardController"
            stylesheets="@../css/dashboard-content.css">

    <!-- En-tÃªte -->
    <top>
        <VBox styleClass="header-container">
            <HBox alignment="CENTER_LEFT" spacing="20">
                <padding>
                    <Insets top="28" right="40" bottom="28" left="40"/>
                </padding>

                <VBox spacing="6" HBox.hgrow="ALWAYS">
                    <Label text="âš¡ TABLEAU DE BORD" styleClass="header-title">
                        <font><Font name="System Bold" size="30"/></font>
                    </Label>
                    <Label fx:id="dateLabel" text="Lundi 01 janvier 2025" styleClass="header-date">
                        <font><Font name="System Bold" size="14"/></font>
                    </Label>
                </VBox>

                <Button text="ðŸ”„ ACTUALISER" onAction="#handleActualiser" styleClass="btn-refresh">
                    <font><Font name="System Bold" size="13"/></font>
                    <padding><Insets top="12" right="24" bottom="12" left="24"/></padding>
                </Button>
            </HBox>
        </VBox>
    </top>

    <!-- Contenu scrollable -->
    <center>
        <ScrollPane fitToWidth="true" styleClass="scroll-pane" hbarPolicy="NEVER">
            <VBox spacing="28">
                <padding>
                    <Insets top="30" right="40" bottom="30" left="40"/>
                </padding>

                <!-- Cartes statistiques -->
                <GridPane hgap="24" vgap="24">
                    <!-- Ligne 1 -->
                    <VBox styleClass="stat-card stat-card-blue" GridPane.columnIndex="0" GridPane.rowIndex="0">
                        <padding>
                            <Insets top="28" right="28" bottom="28" left="28"/>
                        </padding>
                        <HBox alignment="CENTER_LEFT" spacing="18">
                            <VBox alignment="CENTER" styleClass="stat-icon-container stat-icon-blue">
                                <Label text="ðŸ‘¥" styleClass="stat-icon">
                                    <font><Font size="36"/></font>
                                </Label>
                            </VBox>
                            <VBox spacing="6" HBox.hgrow="ALWAYS">
                                <Label text="MEMBRES TOTAL" styleClass="stat-label">
                                    <font><Font name="System Bold" size="11"/></font>
                                </Label>
                                <Label fx:id="totalMembresLabel" text="0" styleClass="stat-value">
                                    <font><Font name="System Bold" size="36"/></font>
                                </Label>
                                <Label text="+12% ce mois" styleClass="stat-trend stat-trend-up">
                                    <font><Font size="10"/></font>
                                </Label>
                            </VBox>
                        </HBox>
                    </VBox>

                    <VBox styleClass="stat-card stat-card-orange" GridPane.columnIndex="1" GridPane.rowIndex="0">
                        <padding>
                            <Insets top="28" right="28" bottom="28" left="28"/>
                        </padding>
                        <HBox alignment="CENTER_LEFT" spacing="18">
                            <VBox alignment="CENTER" styleClass="stat-icon-container stat-icon-orange">
                                <Label text="ðŸ‹ï¸" styleClass="stat-icon">
                                    <font><Font size="36"/></font>
                                </Label>
                            </VBox>
                            <VBox spacing="6" HBox.hgrow="ALWAYS">
                                <Label text="SÃ‰ANCES AUJOURD'HUI" styleClass="stat-label">
                                    <font><Font name="System Bold" size="11"/></font>
                                </Label>
                                <Label fx:id="seancesAujourdhuiLabel" text="0" styleClass="stat-value">
                                    <font><Font name="System Bold" size="36"/></font>
                                </Label>
                                <Label text="En cours maintenant" styleClass="stat-trend stat-trend-neutral">
                                    <font><Font size="10"/></font>
                                </Label>
                            </VBox>
                        </HBox>
                    </VBox>

                    <VBox styleClass="stat-card stat-card-green" GridPane.columnIndex="2" GridPane.rowIndex="0">
                        <padding>
                            <Insets top="28" right="28" bottom="28" left="28"/>
                        </padding>
                        <HBox alignment="CENTER_LEFT" spacing="18">
                            <VBox alignment="CENTER" styleClass="stat-icon-container stat-icon-green">
                                <Label text="ðŸ’°" styleClass="stat-icon">
                                    <font><Font size="36"/></font>
                                </Label>
                            </VBox>
                            <VBox spacing="6" HBox.hgrow="ALWAYS">
                                <Label text="REVENUS TOTAUX" styleClass="stat-label">
                                    <font><Font name="System Bold" size="11"/></font>
                                </Label>
                                <Label fx:id="revenusTotauxLabel" text="0.00 DH" styleClass="stat-value">
                                    <font><Font name="System Bold" size="36"/></font>
                                </Label>
                                <Label text="+8% ce mois" styleClass="stat-trend stat-trend-up">
                                    <font><Font size="10"/></font>
                                </Label>
                            </VBox>
                        </HBox>
                    </VBox>

                    <!-- Ligne 2 -->
                    <VBox styleClass="stat-card stat-card-purple" GridPane.columnIndex="0" GridPane.rowIndex="1">
                        <padding>
                            <Insets top="28" right="28" bottom="28" left="28"/>
                        </padding>
                        <HBox alignment="CENTER_LEFT" spacing="18">
                            <VBox alignment="CENTER" styleClass="stat-icon-container stat-icon-purple">
                                <Label text="ðŸŽ¯" styleClass="stat-icon">
                                    <font><Font size="36"/></font>
                                </Label>
                            </VBox>
                            <VBox spacing="6" HBox.hgrow="ALWAYS">
                                <Label text="COACHS ACTIFS" styleClass="stat-label">
                                    <font><Font name="System Bold" size="11"/></font>
                                </Label>
                                <Label fx:id="totalCoachsLabel" text="0" styleClass="stat-value">
                                    <font><Font name="System Bold" size="36"/></font>
                                </Label>
                                <Label text="Tous disponibles" styleClass="stat-trend stat-trend-neutral">
                                    <font><Font size="10"/></font>
                                </Label>
                            </VBox>
                        </HBox>
                    </VBox>

                    <VBox styleClass="stat-card stat-card-cyan" GridPane.columnIndex="1" GridPane.rowIndex="1">
                        <padding>
                            <Insets top="28" right="28" bottom="28" left="28"/>
                        </padding>
                        <HBox alignment="CENTER_LEFT" spacing="18">
                            <VBox alignment="CENTER" styleClass="stat-icon-container stat-icon-cyan">
                                <Label text="ðŸ“‹" styleClass="stat-icon">
                                    <font><Font size="36"/></font>
                                </Label>
                            </VBox>
                            <VBox spacing="6" HBox.hgrow="ALWAYS">
                                <Label text="ABONNEMENTS" styleClass="stat-label">
                                    <font><Font name="System Bold" size="11"/></font>
                                </Label>
                                <Label fx:id="totalAbonnementsLabel" text="0" styleClass="stat-value">
                                    <font><Font name="System Bold" size="36"/></font>
                                </Label>
                                <Label text="85% actifs" styleClass="stat-trend stat-trend-up">
                                    <font><Font size="10"/></font>
                                </Label>
                            </VBox>
                        </HBox>
                    </VBox>

                    <VBox styleClass="stat-card stat-card-pink" GridPane.columnIndex="2" GridPane.rowIndex="1">
                        <padding>
                            <Insets top="28" right="28" bottom="28" left="28"/>
                        </padding>
                        <HBox alignment="CENTER_LEFT" spacing="18">
                            <VBox alignment="CENTER" styleClass="stat-icon-container stat-icon-pink">
                                <Label text="ðŸ’³" styleClass="stat-icon">
                                    <font><Font size="36"/></font>
                                </Label>
                            </VBox>
                            <VBox spacing="6" HBox.hgrow="ALWAYS">
                                <Label text="PAIEMENTS" styleClass="stat-label">
                                    <font><Font name="System Bold" size="11"/></font>
                                </Label>
                                <Label fx:id="totalPaiementsLabel" text="0" styleClass="stat-value">
                                    <font><Font name="System Bold" size="36"/></font>
                                </Label>
                                <Label text="Ce mois-ci" styleClass="stat-trend stat-trend-neutral">
                                    <font><Font size="10"/></font>
                                </Label>
                            </VBox>
                        </HBox>
                    </VBox>

                    <columnConstraints>
                        <ColumnConstraints percentWidth="33.33" hgrow="ALWAYS"/>
                        <ColumnConstraints percentWidth="33.33" hgrow="ALWAYS"/>
                        <ColumnConstraints percentWidth="33.33" hgrow="ALWAYS"/>
                    </columnConstraints>
                </GridPane>

                <!-- Tables -->
                <GridPane hgap="24" vgap="24">
                    <!-- Membres rÃ©cents -->
                    <VBox styleClass="table-container" GridPane.columnIndex="0" GridPane.rowIndex="0">
                        <HBox alignment="CENTER_LEFT" spacing="12" styleClass="table-header">
                            <VBox alignment="CENTER" styleClass="table-icon-bg">
                                <Label text="ðŸ“Š" styleClass="table-icon-emoji">
                                    <font><Font size="18"/></font>
                                </Label>
                            </VBox>
                            <Label text="MEMBRES RÃ‰CENTS" styleClass="table-title">
                                <font><Font name="System Bold" size="16"/></font>
                            </Label>
                        </HBox>
                        <TableView fx:id="membresRecentsTable" VBox.vgrow="ALWAYS" styleClass="modern-table">
                            <columns>
                                <TableColumn fx:id="membreNomColumn" text="NOM" prefWidth="120"/>
                                <TableColumn fx:id="membrePrenomColumn" text="PRÃ‰NOM" prefWidth="120"/>
                                <TableColumn fx:id="membreEmailColumn" text="EMAIL" prefWidth="200"/>
                                <TableColumn fx:id="membreDateColumn" text="INSCRIPTION" prefWidth="130"/>
                            </columns>
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                            </columnResizePolicy>
                        </TableView>
                    </VBox>

                    <!-- SÃ©ances du jour -->
                    <VBox styleClass="table-container" GridPane.columnIndex="0" GridPane.rowIndex="1">
                        <HBox alignment="CENTER_LEFT" spacing="12" styleClass="table-header">
                            <VBox alignment="CENTER" styleClass="table-icon-bg">
                                <Label text="ðŸ“…" styleClass="table-icon-emoji">
                                    <font><Font size="18"/></font>
                                </Label>
                            </VBox>
                            <Label text="SÃ‰ANCES DU JOUR" styleClass="table-title">
                                <font><Font name="System Bold" size="16"/></font>
                            </Label>
                        </HBox>
                        <TableView fx:id="seancesDuJourTable" VBox.vgrow="ALWAYS" styleClass="modern-table">
                            <columns>
                                <TableColumn fx:id="seanceHeureColumn" text="HEURE" prefWidth="90"/>
                                <TableColumn fx:id="seanceTypeColumn" text="TYPE" prefWidth="160"/>
                                <TableColumn fx:id="seanceCoachColumn" text="COACH" prefWidth="160"/>
                                <TableColumn fx:id="seanceMembreColumn" text="MEMBRE" prefWidth="160"/>
                            </columns>
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                            </columnResizePolicy>
                        </TableView>
                    </VBox>

                    <columnConstraints>
                        <ColumnConstraints percentWidth="100" hgrow="ALWAYS"/>
                    </columnConstraints>
                </GridPane>
            </VBox>
        </ScrollPane>
    </center>

    <!-- Footer -->
    <bottom>
        <HBox alignment="CENTER" styleClass="footer">
            <padding>
                <Insets top="14" right="40" bottom="14" left="40"/>
            </padding>
            <Label fx:id="lastUpdateLabel" text="âš¡ DerniÃ¨re mise Ã  jour : --:--:--" styleClass="footer-text">
                <font><Font name="System Bold" size="12"/></font>
            </Label>
        </HBox>
    </bottom>

</BorderPane>